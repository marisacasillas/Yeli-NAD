version = substr(StimulusID, 8, 8),
item.pair = substr(StimulusID, 10, 10)) %>%
rename(participant = "Participant") %>%
select(experiment, version, participant, item.pair, correct.bin, pair.order,
response.type, response.num, response.dur, response.start,
true.dur, true.start, foil.dur, foil.start) %>%
arrange(experiment, version, participant, item.pair)
View(all.test.data)
stim.data <- "stimuli/word_files.csv"
stim.data <- read_csv(stim.data)
View(stim.data)
all.stim.data <- read_csv(stim.data)
stim.data <- "stimuli/word_files.csv"
all.test.data <- read_csv(raw.data) %>%
mutate(EventDur = EndTime2 - BeginTime2,
TagSt = paste0("st", Tag)) %>%
spread(Tag, EventDur) %>%
spread(TagSt, BeginTime2) %>%
rename(foil.dur = "'F'", true.dur = "'T'",
pick1.dur = "'ONE'", pick2.dur = "'TWO'",
foil.start = "st'F'", true.start = "st'T'",
pick1.start = "st'ONE'", pick2.start = "st'TWO'") %>%
mutate(response = ifelse(!is.na(pick1.dur), 1, ifelse(is.na(pick2.dur), NA, 2)),
response.dur = ifelse(!is.na(pick1.dur), pick1.dur, pick2.dur),
response.start = ifelse(!is.na(pick1.dur), pick1.start, pick2.start)) %>%
group_by(Participant, StimulusID) %>%
summarize(foil.dur = min(foil.dur, na.rm = TRUE),
foil.start = min(foil.start, na.rm = TRUE),
true.dur = min(true.dur, na.rm = TRUE),
true.start = min(true.start, na.rm = TRUE),
response.num = min(response, na.rm = TRUE),
response.dur = min(response.dur, na.rm = TRUE),
response.start = min(response.start, na.rm = TRUE)) %>%
mutate(pair.order = ifelse(foil.start < true.start, "foil-true", "true-foil"),
response.type = case_when(
pair.order == "foil-true" & response.num == 1 ~ "foil",
pair.order == "foil-true" & response.num == 2 ~ "true",
pair.order == "true-foil" & response.num == 1 ~ "true",
pair.order == "true-foil" & response.num == 2 ~ "foil"
),
correct.bin = ifelse(response.type == "true", 1, 0),
experiment = substr(StimulusID, 11, 11),
version = substr(StimulusID, 8, 8),
item.pair = substr(StimulusID, 10, 10)) %>%
rename(participant = "Participant") %>%
select(experiment, version, participant, item.pair, correct.bin, pair.order,
response.type, response.num, response.dur, response.start,
true.dur, true.start, foil.dur, foil.start) %>%
arrange(experiment, version, participant, item.pair)
all.stim.data <- read_csv(stim.data)
View(all.stim.data)
correct.stims <- filter(all.stim.data, selection == "correct")
incorrect.stims <- filter(all.stim.data, selection == "incorrect")
View(correct.stims)
correct.stims <- filter(all.stim.data, selection == "correct") %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair, phase) %>%
rename(true.type = type, true.structure = structure,
true.pos1 = pos1, true.pos2 = pos2, true.pos3 = pos3, true.RFname = Rffilename)
incorrect.stims <- filter(all.stim.data, selection == "incorrect")  %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair) %>%
rename(foil.type = type, foil.structure = structure,
foil.pos1 = pos1, foil.pos2 = pos2, foil.pos3 = pos3, foil.RFname = Rffilename)
all.test.stims <- full_join(correct.stims, incorrect.stims)
View(all.test.stims)
nrow(all.test.data)
738/18
all.test.data <- read_csv(raw.data) %>%
mutate(EventDur = EndTime2 - BeginTime2,
TagSt = paste0("st", Tag)) %>%
spread(Tag, EventDur) %>%
spread(TagSt, BeginTime2) %>%
rename(foil.dur = "'F'", true.dur = "'T'",
pick1.dur = "'ONE'", pick2.dur = "'TWO'",
foil.start = "st'F'", true.start = "st'T'",
pick1.start = "st'ONE'", pick2.start = "st'TWO'") %>%
mutate(response = ifelse(!is.na(pick1.dur), 1, ifelse(is.na(pick2.dur), NA, 2)),
response.dur = ifelse(!is.na(pick1.dur), pick1.dur, pick2.dur),
response.start = ifelse(!is.na(pick1.dur), pick1.start, pick2.start)) %>%
group_by(Participant, StimulusID) %>%
summarize(foil.dur = min(foil.dur, na.rm = TRUE),
foil.start = min(foil.start, na.rm = TRUE),
true.dur = min(true.dur, na.rm = TRUE),
true.start = min(true.start, na.rm = TRUE),
response.num = min(response, na.rm = TRUE),
response.dur = min(response.dur, na.rm = TRUE),
response.start = min(response.start, na.rm = TRUE)) %>%
mutate(pair.order = ifelse(foil.start < true.start, "foil-true", "true-foil"),
response.type = case_when(
pair.order == "foil-true" & response.num == 1 ~ "foil",
pair.order == "foil-true" & response.num == 2 ~ "true",
pair.order == "true-foil" & response.num == 1 ~ "true",
pair.order == "true-foil" & response.num == 2 ~ "foil"
),
correct.bin = ifelse(response.type == "true", 1, 0),
experiment = substr(StimulusID, 11, 11),
version = substr(StimulusID, 8, 8),
item.pair = substr(StimulusID, 10, 10)) %>%
rename(participant = "Participant") %>%
select(experiment, version, participant, item.pair, correct.bin, pair.order,
response.type, response.num, response.dur, response.start,
true.dur, true.start, foil.dur, foil.start) %>%
arrange(experiment, version, participant, item.pair)
all.stim.data <- read_csv(stim.data)
correct.stims <- filter(all.stim.data, selection == "correct") %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair, phase) %>%
rename(true.type = type, true.structure = structure,
true.pos1 = pos1, true.pos2 = pos2, true.pos3 = pos3, true.RFname = Rffilename)
incorrect.stims <- filter(all.stim.data, selection == "incorrect")  %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair) %>%
rename(foil.type = type, foil.structure = structure,
foil.pos1 = pos1, foil.pos2 = pos2, foil.pos3 = pos3, foil.RFname = Rffilename)
all.test.stims <- full_join(correct.stims, incorrect.stims)
all.analyzable.data <- left_join(all.test.data, all.test.stims)
class(all.test.data$experiment)
all.test.data <- read_csv(raw.data) %>%
mutate(EventDur = EndTime2 - BeginTime2,
TagSt = paste0("st", Tag)) %>%
spread(Tag, EventDur) %>%
spread(TagSt, BeginTime2) %>%
rename(foil.dur = "'F'", true.dur = "'T'",
pick1.dur = "'ONE'", pick2.dur = "'TWO'",
foil.start = "st'F'", true.start = "st'T'",
pick1.start = "st'ONE'", pick2.start = "st'TWO'") %>%
mutate(response = ifelse(!is.na(pick1.dur), 1, ifelse(is.na(pick2.dur), NA, 2)),
response.dur = ifelse(!is.na(pick1.dur), pick1.dur, pick2.dur),
response.start = ifelse(!is.na(pick1.dur), pick1.start, pick2.start)) %>%
group_by(Participant, StimulusID) %>%
summarize(foil.dur = min(foil.dur, na.rm = TRUE),
foil.start = min(foil.start, na.rm = TRUE),
true.dur = min(true.dur, na.rm = TRUE),
true.start = min(true.start, na.rm = TRUE),
response.num = min(response, na.rm = TRUE),
response.dur = min(response.dur, na.rm = TRUE),
response.start = min(response.start, na.rm = TRUE)) %>%
mutate(pair.order = ifelse(foil.start < true.start, "foil-true", "true-foil"),
response.type = case_when(
pair.order == "foil-true" & response.num == 1 ~ "foil",
pair.order == "foil-true" & response.num == 2 ~ "true",
pair.order == "true-foil" & response.num == 1 ~ "true",
pair.order == "true-foil" & response.num == 2 ~ "foil"
),
correct.bin = ifelse(response.type == "true", 1, 0),
experiment = as.numeric(substr(StimulusID, 11, 11)),
version = as.numeric(substr(StimulusID, 8, 8)),
item.pair = substr(StimulusID, 10, 10)) %>%
rename(participant = "Participant") %>%
select(experiment, version, participant, item.pair, correct.bin, pair.order,
response.type, response.num, response.dur, response.start,
true.dur, true.start, foil.dur, foil.start) %>%
arrange(experiment, version, participant, item.pair)
all.stim.data <- read_csv(stim.data)
correct.stims <- filter(all.stim.data, selection == "correct") %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair, phase) %>%
rename(true.type = type, true.structure = structure,
true.pos1 = pos1, true.pos2 = pos2, true.pos3 = pos3, true.RFname = Rffilename)
incorrect.stims <- filter(all.stim.data, selection == "incorrect")  %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair) %>%
rename(foil.type = type, foil.structure = structure,
foil.pos1 = pos1, foil.pos2 = pos2, foil.pos3 = pos3, foil.RFname = Rffilename)
all.test.stims <- full_join(correct.stims, incorrect.stims)
all.analyzable.data <- left_join(all.test.data, all.test.stims)
nrow(all.analyzable.data)
names(all.test.data)
names(all.test.stims)
all.analyzable.data <- left_join(all.test.data, all.test.stims,
by = c(experiment = experiment, item.pair = pair))
all.analyzable.data <- left_join(all.test.data, all.test.stims,
by = c("experiment" = "experiment", "item.pair" = "pair"))
nrow(all.analyzable.data)
nrow(all.analyzable.data)/18
View(all.analyzable.data)
all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin))
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, true.start) %>%
summarize(avg.prp_corr = mean(prp_corr))
all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin))
all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, true.type) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin))
by.ptcp.avgs
View(by.ptcp.avgs)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) +
geom_point(color = experiment)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_point()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_point() + geom_line(
)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter() + geom_line()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter(color = participant) + geom_line()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter(aes(color = participant)) + geom_line()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter(aes(shape = participant)) + geom_line()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter() + geom_path()
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter() + geom_path() + geom_hline(yintercept = 0.5)
ptcp.data <- "metadata/participant_metadata_nonprivate.csv"
ptcp.info <- read_csv(ptcp.data)
nrow(ptcp.info)
ptcp.info <- read_csv(ptcp.data)
View(ptcp.info)
all.ptcp.info <- read_csv(ptcp.data)
all.ptcp.info <- read_csv(ptcp.data)
test.ptcps <- filter(all.ptcp.info, !is.na(failure))
View(test)
View(test.ptcps)
nrow(test.ptcps)
all.ptcp.info <- read_csv(ptcp.data)
test.ptcps <- filter(all.ptcp.info, is.na(failure))
nrow(test.ptcps)
View(test.ptcps)
all.ptcp.info <- read_csv(ptcp.data)
test.ptcps <- filter(all.ptcp.info, is.na(failure)) %>%
select(-failure)
nrow(all.analyzable.data)
all.analyzable.data <- left_join(
all.test.data, all.test.stims,
by = c("experiment" = "experiment", "item.pair" = "pair")) %>%
left_join(test.ptcps,
by = c("experiment" = "experiment", "participant" = "participant"))
nrow(all.analyzable.data)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = experiment)) +
facet_grid(~ experiment) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = grade)) +
facet_grid(~ experiment) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, true.type) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = grade)) +
facet_grid(~ experiment) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, true.type) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, true.type) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, true.type, grade) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = grade)) +
facet_grid(~ experiment) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = grade)) +
facet_grid(~ grade + experiment) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = grade)) +
facet_grid(~ experiment + grade) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
ggplot(data = by.ptcp.avgs, aes(x = true.type, y = prp_corr, group = grade)) +
facet_grid(~ experiment + grade) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, phase) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, phase) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, phase, grade) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = phase, y = prp_corr, group = grade)) +
facet_grid(~ experiment + grade) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
ggplot(data = by.ptcp.avgs, aes(x = phase, y = prp_corr, group = grade)) +
facet_grid(~ experiment + grade) + geom_jitter(aes(color = grade)) + geom_path(aes(color = grade)) + geom_hline(yintercept = 0.5)
all.analyzable.data <- left_join(
all.test.data, all.test.stims,
by = c("experiment" = "experiment", "item.pair" = "pair")) %>%
left_join(test.ptcps,
by = c("experiment" = "experiment", "participant" = "participant")) %>%
mutate(education = case_when(
grade < 8 ~ "primary",
grade >=8 & grade < 10 ~ "secondary",
grade <= 10 ~ "preparatory"
))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, phase, education) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = phase, y = prp_corr, group = education)) +
facet_grid(~ experiment + education) + geom_jitter(aes(color = education)) + geom_path(aes(color = education)) + geom_hline(yintercept = 0.5)
ggplot(data = by.ptcp.avgs, aes(x = phase, y = prp_corr, group = education)) +
facet_grid(~ experiment + education) + geom_jitter(aes(color = education)) + geom_path(aes(color = education)) + geom_hline(yintercept = 0.5)
which(is.na(all.analyzable.data$education))
all.analyzable.data[163,]
View(all.analyzable.data[163,])
all.analyzable.data <- left_join(
all.test.data, all.test.stims,
by = c("experiment" = "experiment", "item.pair" = "pair")) %>%
left_join(test.ptcps,
by = c("experiment" = "experiment", "version" = "version",
"participant" = "participant")) %>%
mutate(education = case_when(
grade < 8 ~ "primary",
grade >=8 & grade < 10 ~ "secondary",
grade >= 10 ~ "preparatory"
))
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, phase) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, phase) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, phase, education) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = phase, y = prp_corr, group = education)) +
facet_grid(~ experiment + education) + geom_jitter(aes(color = education)) + geom_path(aes(color = education)) + geom_hline(yintercept = 0.5)
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, phase, education) %>%
summarize(prp_corr = mean(correct.bin)) %>%
fct_relevel(education, "primary", "secondary")
class(by.ptcp.avgs$education)
all.analyzable.data %>%
group_by(experiment, participant, phase, education) %>%
fct_relevel(education, "primary")
all.analyzable.data %>%
group_by(experiment, participant, phase, education) %>%
mutate(education = fct_relevel(education, "primary"))
all.analyzable.data %>%
mutate(education = fct_relevel(education, "primary"))
all.analyzable.data %>%
mutate(edu.level = fct_relevel(education, "primary"))
all.analyzable.data %>%
mutate(edu.level = fct_relevel(education, grade))
all.analyzable.data %>%
mutate(edu.level = fct_relevel(education, "primary"))
all.analyzable.data %>%
mutate(
education = as.factor(education),
edu.level = fct_relevel(education, "primary"))
all.analyzable.data %>%
mutate(
education = as.factor(education),
edu.level = fct_relevel(education, "primary", "secondary", "preparatory"))
by.ptcp.avgs <- all.analyzable.data %>%
mutate(
education = as.factor(education),
edu.level = fct_relevel(education, "primary", "secondary", "preparatory"))
all.analyzable.data <- left_join(
all.test.data, all.test.stims,
by = c("experiment" = "experiment", "item.pair" = "pair")) %>%
left_join(test.ptcps,
by = c("experiment" = "experiment", "version" = "version",
"participant" = "participant")) %>%
mutate(education = case_when(
grade < 8 ~ "primary",
grade >=8 & grade < 10 ~ "secondary",
grade >= 10 ~ "preparatory"
))
levels(all.analyzable.data$education)
class(all.analyzable.data$education)
all.analyzable.data$education <- as.factor(all.analyzable.data$education)
all.analyzable.data$education <- as.factor(all.analyzable.data$education)
all.analyzable.data$education <- factor(
all.analyzable.data$education, levels = c("primary", "secondary", "preparatory"))
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, phase) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, phase) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, phase, education) %>%
summarize(prp_corr = mean(correct.bin)) %>%
by.ptcp.avgs <- all.analyzable.data %>%
group_by(experiment, participant, phase, education) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = phase, y = prp_corr, group = education)) +
facet_grid(~ experiment + education) + geom_jitter(aes(color = education)) + geom_path(aes(color = education)) + geom_hline(yintercept = 0.5)
all.analyzable.data <- left_join(
all.test.data, all.test.stims,
by = c("experiment" = "experiment", "item.pair" = "pair")) %>%
left_join(test.ptcps,
by = c("experiment" = "experiment", "version" = "version",
"participant" = "participant")) %>%
mutate(education = case_when(
grade < 8 ~ "primary",
grade >=8 & grade < 10 ~ "secondary",
grade >= 10 ~ "preparatory"),
test.type = ifelse(
phase == "generalization", "GEN", "SEG"),
competitor.type = ifelse(
experiment == 1, "part-word", "phantom-word"))
all.analyzable.data$education <- as.factor(all.analyzable.data$education)
all.analyzable.data$education <- factor(
all.analyzable.data$education, levels = c("primary", "secondary", "preparatory"))
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, phase) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, phase) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(competitor.type, participant, test.type, education) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = test.type, y = prp_corr, group = education)) +
facet_grid(~ competitor.type + education) + geom_jitter(aes(color = education)) + geom_path(aes(color = education)) + geom_hline(yintercept = 0.5)
library("papaja")
library(tidyverse)
raw.data <- "logfiles/trials/all.csv"
stim.data <- "stimuli/word_files.csv"
ptcp.data <- "metadata/participant_metadata_nonprivate.csv"
all.test.data <- read_csv(raw.data) %>%
mutate(EventDur = EndTime2 - BeginTime2,
TagSt = paste0("st", Tag)) %>%
spread(Tag, EventDur) %>%
spread(TagSt, BeginTime2) %>%
rename(foil.dur = "'F'", true.dur = "'T'",
pick1.dur = "'ONE'", pick2.dur = "'TWO'",
foil.start = "st'F'", true.start = "st'T'",
pick1.start = "st'ONE'", pick2.start = "st'TWO'") %>%
mutate(response = ifelse(!is.na(pick1.dur), 1, ifelse(is.na(pick2.dur), NA, 2)),
response.dur = ifelse(!is.na(pick1.dur), pick1.dur, pick2.dur),
response.start = ifelse(!is.na(pick1.dur), pick1.start, pick2.start)) %>%
group_by(Participant, StimulusID) %>%
summarize(foil.dur = min(foil.dur, na.rm = TRUE),
foil.start = min(foil.start, na.rm = TRUE),
true.dur = min(true.dur, na.rm = TRUE),
true.start = min(true.start, na.rm = TRUE),
response.num = min(response, na.rm = TRUE),
response.dur = min(response.dur, na.rm = TRUE),
response.start = min(response.start, na.rm = TRUE)) %>%
mutate(pair.order = ifelse(foil.start < true.start, "foil-true", "true-foil"),
response.type = case_when(
pair.order == "foil-true" & response.num == 1 ~ "foil",
pair.order == "foil-true" & response.num == 2 ~ "true",
pair.order == "true-foil" & response.num == 1 ~ "true",
pair.order == "true-foil" & response.num == 2 ~ "foil"
),
correct.bin = ifelse(response.type == "true", 1, 0),
experiment = as.numeric(substr(StimulusID, 11, 11)),
version = as.numeric(substr(StimulusID, 8, 8)),
item.pair = substr(StimulusID, 10, 10)) %>%
rename(participant = "Participant") %>%
select(experiment, version, participant, item.pair, correct.bin, pair.order,
response.type, response.num, response.dur, response.start,
true.dur, true.start, foil.dur, foil.start) %>%
arrange(experiment, version, participant, item.pair)
all.stim.data <- read_csv(stim.data)
correct.stims <- filter(all.stim.data, selection == "correct") %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair, phase) %>%
rename(true.type = type, true.structure = structure,
true.pos1 = pos1, true.pos2 = pos2, true.pos3 = pos3, true.RFname = Rffilename)
incorrect.stims <- filter(all.stim.data, selection == "incorrect")  %>%
mutate(experiment = ifelse(exp1 == 1, 1, 2)) %>%
select(type, structure, pos1, pos2, pos3, Rffilename, experiment, pair) %>%
rename(foil.type = type, foil.structure = structure,
foil.pos1 = pos1, foil.pos2 = pos2, foil.pos3 = pos3, foil.RFname = Rffilename)
all.test.stims <- full_join(correct.stims, incorrect.stims)
all.ptcp.info <- read_csv(ptcp.data)
test.ptcps <- filter(all.ptcp.info, is.na(failure)) %>%
select(-failure)
all.analyzable.data <- left_join(
all.test.data, all.test.stims,
by = c("experiment" = "experiment", "item.pair" = "pair")) %>%
left_join(test.ptcps,
by = c("experiment" = "experiment", "version" = "version",
"participant" = "participant")) %>%
mutate(education = case_when(
grade < 8 ~ "primary",
grade >=8 & grade < 10 ~ "secondary",
grade >= 10 ~ "preparatory"),
test.type = ifelse(
phase == "generalization", "GEN", "SEG"),
competitor.type = ifelse(
experiment == 1, "part-word", "phantom-word"))
# fix some levels nonsense
all.analyzable.data$education <- as.factor(all.analyzable.data$education)
all.analyzable.data$education <- factor(
all.analyzable.data$education, levels = c("primary", "secondary", "preparatory"))
broad.descriptives <- all.analyzable.data %>%
group_by(experiment, participant, phase) %>%
summarize(prp_corr = mean(correct.bin)) %>%
group_by(experiment, phase) %>%
summarize(avg.prp_corr = mean(prp_corr))
by.ptcp.avgs <- all.analyzable.data %>%
group_by(competitor.type, participant, test.type, education) %>%
summarize(prp_corr = mean(correct.bin))
ggplot(data = by.ptcp.avgs, aes(x = test.type, y = prp_corr, group = education)) +
facet_grid(~ competitor.type + education) + geom_jitter(aes(color = education)) + geom_path(aes(color = education)) + geom_hline(yintercept = 0.5)
pverall.avgs <- all.analyzable.data %>%
group_by(competitor.type, test.type, education) %>%
summarize(prp_corr = mean(correct.bin))
pverall.avgs
ggplot(data = by.ptcp.avgs, aes(x = test.type, y = prp_corr, group = education)) +
facet_grid(~ competitor.type + education) + geom_jitter(aes(color = education)) + geom_path(aes(color = education)) + geom_hline(yintercept = 0.5) + geom_point(aes(y = prp_corr), data=pverall.avgs)
